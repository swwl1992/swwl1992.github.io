
<!doctype html>














<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/assets/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/assets/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/assets/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="" />





  <link rel="alternate" href="/atom.xml" title="Salmon Says" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico?v=5.1.1" />
















<meta name="description" content="Unofficial tutorial for Ocaml React package">
<meta name="keywords" content="Jekyll, NexT">
<meta property="og:type" content="article">
<meta property="og:title" content="Ocaml React package tutorial">
<meta property="og:url" content="https://wanwenli.com/programming/2014/01/28/React-Tutorial.html">
<meta property="og:site_name" content="Salmon Says">
<meta property="og:description" content="Unofficial tutorial for Ocaml React package">
<meta property="og:locale" content="en">
<meta property="og:image" content="border: 0; position: fixed; left: 0; top:0; z-index: 9000">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ocaml React package tutorial">
<meta name="twitter:description" content="Unofficial tutorial for Ocaml React package">
<meta name="twitter:image" content="border: 0; position: fixed; left: 0; top:0; z-index: 9000">


<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://wanwenli.com/"/>





  <title>Ocaml React package tutorial | Salmon Says</title>
  
















</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Salmon Says</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

<div id="posts" class="posts-expand">
  
  

  

  
  
  

  <article class="post post-type- " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://wanwenli.com/programming/2014/01/28/React-Tutorial.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Wan Wenli">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="assets/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Salmon Says">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
          
          
            Ocaml React package tutorial
          
        </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2014-01-28T00:00:00+08:00">
                2014-01-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/category/#/programming" itemprop="url" rel="index">
                    <span itemprop="name">programming</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/programming/2014/01/28/React-Tutorial.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="/programming/2014/01/28/React-Tutorial.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          
            
                <div class="post-description">
                    Unofficial tutorial for Ocaml React package
                </div>
            
          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>React is an Ocaml package made for <a href="http://en.wikipedia.org/wiki/Reactive_programming">reactive programming</a>
using Ocaml.
The objective of this post is to illustrate and explain some examples of the React API.
Therefore the basic concepts of React, such as Signals, Events and side effects, will not be repeated here.
Below are some prerequisites for reading this post.</p>

<ul>
  <li><a href="http://ocaml.org/">Ocaml</a> (version 4.00.1 or above)</li>
  <li><a href="http://opam.ocamlpro.com/">OPAM</a> (Ocaml PAckage Manager)</li>
  <li>React (installation via OPAM)</li>
  <li><a href="http://erratique.ch/software/react/doc/React.html">React Introduction</a></li>
</ul>

<p>Most of the examples used in this post are inspired by
<a href="https://github.com/dbuenzli/react/blob/master/test/test.ml">test cases</a>
of React project.
To report an issue in the post,
contact me through my Github account.
Thank you for your feedbacks.</p>

<h5 id="using-react-package">Using React package</h5>
<p>For compilation</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ocamlfind ocamlopt -o clock -linkpkg \
    -package react clock.ml
</code></pre></div></div>

<p>For Ocaml Toplevel</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#use "topfind";;
#require "react";;
open React;;
</code></pre></div></div>

<h5 id="module-reacte">Module <a href="http://erratique.ch/software/react/doc/React.E.html">React.E</a></h5>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">once</span> <span class="o">:</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>once e is e with only its next occurence.
Any occurence after time t will not affect e.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="code"><pre><span class="k">open</span> <span class="nc">React</span> <span class="c">(* omitted in the examples below *)</span>
<span class="k">let</span> <span class="n">w</span><span class="o">,</span> <span class="n">send_w</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">create</span> <span class="bp">()</span>
<span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">once</span> <span class="n">w</span>
<span class="k">let</span> <span class="n">pr_x</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">map</span> <span class="n">print_int</span> <span class="n">x</span>
<span class="k">let</span> <span class="bp">()</span> <span class="o">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">iter</span> <span class="n">send_w</span> <span class="p">[</span><span class="mi">0</span><span class="p">;</span> <span class="mi">1</span><span class="p">;</span> <span class="mi">2</span><span class="p">;</span> <span class="mi">3</span><span class="p">]</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>The output would be only 0.
All the values after the first occurence are omitted.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">drop_once</span> <span class="o">:</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>drop_once e is e without its next occurrence.
Similarly, if we change the third line of the example above,
the output would be 123.
The reason is because the NEXT occurrence of e is omitted.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">app</span> <span class="o">:</span> <span class="p">(</span><span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span><span class="p">)</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>app ef e occurs when both ef and e occur simultaneously.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">let</span> <span class="n">f</span> <span class="n">x</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="k">let</span> <span class="n">w</span><span class="o">,</span> <span class="n">send_w</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">create</span> <span class="bp">()</span>
<span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">map</span> <span class="p">(</span><span class="k">fun</span> <span class="n">w</span> <span class="o">-&gt;</span> <span class="n">f</span> <span class="n">w</span><span class="p">)</span> <span class="n">w</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">drop_once</span> <span class="n">w</span>
<span class="k">let</span> <span class="n">z</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">app</span> <span class="n">x</span> <span class="n">y</span>
<span class="k">let</span> <span class="n">pr_z</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">map</span> <span class="n">print_int</span> <span class="n">z</span>
<span class="nn">List</span><span class="p">.</span><span class="n">iter</span> <span class="n">send_w</span> <span class="p">[</span><span class="mi">0</span><span class="p">;</span> <span class="mi">1</span><span class="p">;</span> <span class="mi">2</span><span class="p">;</span> <span class="mi">3</span><span class="p">]</span></code></pre></figure>

<p>The output would be 246.
As explained before,
drop_once makes y only take updates from the second occurrence onwards.
Variable z takes the value of x when both x and y are updated.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">map</span> <span class="o">:</span> <span class="p">(</span><span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>map f e applies f to e’s occurrences.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">stamp</span> <span class="o">:</span> <span class="k">'</span><span class="n">b</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>stamp e v is map (fun _ -&gt; v) e.
It fixes the occurrence of e to v.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">filter</span> <span class="o">:</span> <span class="p">(</span><span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>filter p e are e’s occurrences that satisfy p.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">fmap</span> <span class="o">:</span> <span class="p">(</span><span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span> <span class="n">option</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>fmap fm e are occurrences of e filtered and mapped by fm.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">let</span> <span class="n">v</span><span class="o">,</span> <span class="n">send_v</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">create</span> <span class="bp">()</span>
<span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">stamp</span> <span class="n">v</span> <span class="mi">1</span> <span class="c">(* x: 1111 *)</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">filter</span> <span class="p">(</span><span class="k">fun</span> <span class="n">n</span> <span class="o">-&gt;</span> <span class="n">n</span> <span class="ow">mod</span> <span class="mi">2</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="n">v</span> <span class="c">(* y: 02 *)</span>
<span class="k">let</span> <span class="n">z</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">fmap</span> <span class="p">(</span><span class="k">fun</span> <span class="n">n</span> <span class="o">-&gt;</span> <span class="k">if</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">then</span> <span class="nc">Some</span> <span class="mi">1</span> <span class="k">else</span> <span class="nc">None</span><span class="p">)</span> <span class="n">v</span> <span class="c">(* z: 1 *)</span>
<span class="nn">List</span><span class="p">.</span><span class="n">iter</span> <span class="n">send_v</span> <span class="p">[</span><span class="mi">0</span><span class="p">;</span> <span class="mi">1</span><span class="p">;</span> <span class="mi">2</span><span class="p">;</span> <span class="mi">3</span><span class="p">]</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">diff</span> <span class="o">:</span> <span class="p">(</span><span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>diff f e occurs whenever e occurs except on the next occurence.
In another words,
it is triggered since the second the occurrence.
Occurences are f v v’ where v is e’s current occurrence and v’ the previous one.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">changes</span> <span class="o">:</span> <span class="o">?</span><span class="n">eq</span><span class="o">:</span><span class="p">(</span><span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>changes eq e is the occurrences of e with occurences equal to the previous one dropped.
Equality is tested with eq (defaults to structural equality).
The behavior is similar to Signals.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">let</span> <span class="n">x</span><span class="o">,</span> <span class="n">send_x</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">create</span> <span class="bp">()</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">diff</span> <span class="p">(</span> <span class="o">-</span> <span class="p">)</span> <span class="n">x</span>
<span class="k">let</span> <span class="n">z</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">changes</span> <span class="n">x</span>
<span class="nn">List</span><span class="p">.</span><span class="n">iter</span> <span class="n">send_x</span> <span class="p">[</span><span class="mi">0</span><span class="p">;</span> <span class="mi">0</span><span class="p">;</span> <span class="mi">3</span><span class="p">;</span> <span class="mi">4</span><span class="p">;</span> <span class="mi">4</span><span class="p">]</span></code></pre></figure>

<p>The occurrences of y are 0310 (difference between current and previous one),
while those of z are 034 (only changes are recorded).</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">dismiss</span> <span class="o">:</span> <span class="k">'</span><span class="n">b</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>dismiss c e is the occurences of e except the ones when c occurs.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">let</span> <span class="n">x</span><span class="o">,</span> <span class="n">send_x</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">create</span> <span class="bp">()</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">fmap</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">mod</span> <span class="mi">2</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">then</span> <span class="nc">Some</span> <span class="n">x</span> <span class="k">else</span> <span class="nc">None</span><span class="p">)</span> <span class="n">x</span>
<span class="k">let</span> <span class="n">z</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">dismiss</span> <span class="n">y</span> <span class="n">x</span>
<span class="nn">List</span><span class="p">.</span><span class="n">iter</span> <span class="n">send_x</span> <span class="p">[</span><span class="mi">1</span><span class="p">;</span> <span class="mi">2</span><span class="p">;</span> <span class="mi">3</span><span class="p">;</span> <span class="mi">4</span><span class="p">;</span> <span class="mi">5</span><span class="p">;</span> <span class="mi">6</span><span class="p">]</span></code></pre></figure>

<p>The occurrences of y are 246 (even numbers).
Occurrences of z are 135.
When y has occurrence, z will not have any occurrence.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">until</span> <span class="o">:</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>until c e is e’s occurences until c occurs.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">let</span> <span class="n">x</span><span class="o">,</span> <span class="n">send_x</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">create</span> <span class="bp">()</span>
<span class="k">let</span> <span class="n">stop</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">filter</span> <span class="p">(</span><span class="k">fun</span> <span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="s2">"c"</span><span class="p">)</span> <span class="n">x</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">until</span> <span class="n">stop</span> <span class="n">x</span>
<span class="k">let</span> <span class="n">pr_y</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">map</span> <span class="n">print_string</span> <span class="n">y</span>
<span class="nn">List</span><span class="p">.</span><span class="n">iter</span> <span class="n">send_x</span> <span class="p">[</span><span class="s2">"a"</span><span class="p">;</span> <span class="s2">"b"</span><span class="p">;</span> <span class="s2">"c"</span><span class="p">;</span> <span class="s2">"d"</span><span class="p">;</span> <span class="s2">"e"</span><span class="p">]</span></code></pre></figure>

<p>The output is ab.
All the occurrences after stop event are dropped,
although stop has no more new updates.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">accum</span> <span class="o">:</span> <span class="p">(</span><span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span><span class="p">)</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>accum ef i accumulates a value, starting with i,
using e’s functional occurrences.
It takes the previous occurrence, applies to the function and evaluates
the result as the current occurrence.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">let</span> <span class="n">f</span><span class="o">,</span> <span class="n">send_f</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">create</span> <span class="bp">()</span>
<span class="k">let</span> <span class="n">a</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">accum</span> <span class="n">f</span> <span class="mi">0</span>
<span class="k">let</span> <span class="n">pr_a</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">map</span> <span class="n">print_int</span> <span class="n">a</span>
<span class="nn">List</span><span class="p">.</span><span class="n">iter</span> <span class="n">send_f</span> <span class="p">[(</span> <span class="o">+</span> <span class="p">)</span> <span class="mi">2</span><span class="p">;</span> <span class="p">(</span> <span class="o">-</span> <span class="p">)</span> <span class="mi">1</span><span class="p">;</span> <span class="p">(</span> <span class="o">*</span> <span class="p">)</span> <span class="mi">2</span><span class="p">];</span>
<span class="c">(* Output is 2 -1 -2 *)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">fold</span> <span class="o">:</span> <span class="p">(</span><span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>fold f i e accumulates the occurrences of e with f starting with i.
The behavior of fold is similar to List.fold_left.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">let</span> <span class="n">x</span><span class="o">,</span> <span class="n">send_x</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">create</span> <span class="bp">()</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">fold</span> <span class="p">(</span> <span class="o">*</span> <span class="p">)</span> <span class="mi">1</span> <span class="n">x</span>
<span class="k">let</span> <span class="n">pr_y</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">map</span> <span class="n">print_int</span> <span class="n">y</span>
<span class="nn">List</span><span class="p">.</span><span class="n">iter</span> <span class="n">send_x</span> <span class="p">[</span><span class="mi">1</span><span class="p">;</span> <span class="mi">2</span><span class="p">;</span> <span class="mi">3</span><span class="p">;</span> <span class="mi">4</span><span class="p">]</span></code></pre></figure>

<p>The output would be 1 2 6 24.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">select</span> <span class="o">:</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="kt">list</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>select el is the occurrences of every event in el.
If more than one event occurs simultaneously the leftmost is taken and the others are lost.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">let</span> <span class="n">w</span><span class="o">,</span> <span class="n">send_w</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">create</span> <span class="bp">()</span>
<span class="k">let</span> <span class="n">x</span><span class="o">,</span> <span class="n">send_x</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">create</span> <span class="bp">()</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">map</span> <span class="n">succ</span> <span class="n">w</span>
<span class="k">let</span> <span class="n">z</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">map</span> <span class="n">succ</span> <span class="n">y</span> <span class="c">(* z and y are considered simultaneous *)</span>
<span class="k">let</span> <span class="n">t</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">select</span> <span class="p">[</span><span class="n">w</span><span class="p">;</span> <span class="n">x</span><span class="p">]</span> <span class="c">(* t: 0 1 2 3 4 *)</span>
<span class="k">let</span> <span class="n">sy</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">select</span> <span class="p">[</span><span class="n">y</span><span class="p">;</span> <span class="n">z</span><span class="p">]</span> <span class="c">(* sy: 1 3 4 5 *)</span>
<span class="k">let</span> <span class="n">sz</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">select</span> <span class="p">[</span><span class="n">z</span><span class="p">;</span> <span class="n">y</span><span class="p">]</span> <span class="c">(* sz: 2 4 5 6 *)</span>
<span class="n">send_w</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">send_x</span> <span class="mi">1</span><span class="p">;</span>
<span class="nn">List</span><span class="p">.</span><span class="n">iter</span> <span class="n">send_w</span> <span class="p">[</span><span class="mi">2</span><span class="p">;</span> <span class="mi">3</span><span class="p">;</span> <span class="mi">4</span><span class="p">]</span></code></pre></figure>

<p>The expected occurrences of all variables are written in the comments.
To know more about simultaneous events, read
<a href="http://erratique.ch/software/react/doc/React.html#simultaneity">this</a>.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">merge</span> <span class="o">:</span> <span class="p">(</span><span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="kt">list</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>merge f a el merges the <em>simultaneous</em> occurrences of every event in el using f and the accumulator a.
You may refer to the previous API to check the meaning of simultaneous events.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">let</span> <span class="n">w</span><span class="o">,</span> <span class="n">send_w</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">create</span> <span class="bp">()</span>
<span class="k">let</span> <span class="n">x</span><span class="o">,</span> <span class="n">send_x</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">create</span> <span class="bp">()</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">map</span> <span class="n">succ</span> <span class="n">w</span> <span class="c">(* y is a simultaneous event w.r.t. w *)</span>
<span class="k">let</span> <span class="n">z</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">merge</span> <span class="p">(</span><span class="k">fun</span> <span class="n">acc</span> <span class="n">v</span> <span class="o">-&gt;</span> <span class="n">v</span><span class="o">::</span><span class="n">acc</span><span class="p">)</span> <span class="bp">[]</span> <span class="p">[</span><span class="n">w</span><span class="p">;</span> <span class="n">x</span><span class="p">;</span> <span class="n">y</span><span class="p">]</span>
<span class="n">send_w</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">send_x</span> <span class="mi">4</span><span class="p">;</span>
<span class="n">send_w</span> <span class="mi">2</span><span class="p">;</span></code></pre></figure>

<p>The occurrences of z are [2; 1], [4], [3; 2].
Hint: fun acc v -&gt; v::acc pushes every v to the accumulator acc.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">switch</span> <span class="o">:</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span></code></pre></figure>

<p>switch e ee is e’s occurrences until there is an occurrence e’ on ee,
the occurrences of e’ are then used until there is a new occurrence on ee, etc.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">fix</span> <span class="o">:</span> <span class="p">(</span><span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">*</span> <span class="k">'</span><span class="n">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span></code></pre></figure>

<p>fix ef allows to refer to the value an event had an infinitesimal amount of time before.</p>

<h5 id="module-reacts">Module <a href="http://erratique.ch/software/react/doc/React.S.html">React.S</a></h5>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">hold</span> <span class="o">:</span> <span class="o">?</span><span class="n">eq</span><span class="o">:</span><span class="p">(</span><span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">event</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">signal</span></code></pre></figure>

<p>hold i e has the value of e’s last occurrence or i if there was not any.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="code"><pre><span class="k">let</span> <span class="n">x</span><span class="o">,</span> <span class="n">send_x</span> <span class="o">=</span> <span class="nn">E</span><span class="p">.</span><span class="n">create</span> <span class="bp">()</span>
<span class="k">let</span> <span class="n">a</span> <span class="o">=</span> <span class="nn">S</span><span class="p">.</span><span class="n">hold</span> <span class="mi">0</span> <span class="n">x</span>
<span class="k">let</span> <span class="n">pr_a</span> <span class="o">=</span> <span class="nn">S</span><span class="p">.</span><span class="n">map</span> <span class="n">print_int</span> <span class="n">a</span>
<span class="nn">List</span><span class="p">.</span><span class="n">iter</span> <span class="n">send_x</span> <span class="p">[</span><span class="mi">1</span><span class="p">;</span> <span class="mi">2</span><span class="p">;</span> <span class="mi">3</span><span class="p">;</span> <span class="mi">3</span><span class="p">;</span> <span class="mi">3</span><span class="p">;</span> <span class="mi">4</span><span class="p">;</span> <span class="mi">4</span><span class="p">;</span> <span class="mi">4</span><span class="p">]</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>A 0 will printed out at line 3 because x has no occurrences by then.
Then 1234 will be printed.
Note that only updates that change the value of a signal are printed.</p>

<p>Many API are similar to those in React.E.
Therefore this tutorial jumps straight to Lifting combinators.
Lifting transforms a regular function to make it act on signals.
For examples, l2 takes a function with two arguments as its input.</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">val</span> <span class="n">l2</span> <span class="o">:</span> <span class="o">?</span><span class="n">eq</span><span class="o">:</span><span class="p">(</span><span class="k">'</span><span class="n">c</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">c</span> <span class="o">-&gt;</span> <span class="kt">bool</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="p">(</span><span class="k">'</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">c</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">a</span> <span class="nn">React</span><span class="p">.</span><span class="n">signal</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">b</span> <span class="nn">React</span><span class="p">.</span><span class="n">signal</span> <span class="o">-&gt;</span> <span class="k">'</span><span class="n">c</span> <span class="nn">React</span><span class="p">.</span><span class="n">signal</span></code></pre></figure>

<p>Example:</p>

<figure class="highlight"><pre><code class="language-ocaml" data-lang="ocaml"><span class="k">let</span> <span class="n">f</span> <span class="n">x</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="ow">mod</span> <span class="n">y</span>
<span class="k">let</span> <span class="n">fl</span> <span class="o">=</span> <span class="nn">S</span><span class="p">.</span><span class="n">l2</span> <span class="n">f</span>
<span class="k">val</span> <span class="n">fl</span> <span class="o">:</span> <span class="kt">int</span> <span class="nn">React</span><span class="p">.</span><span class="n">signal</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="nn">React</span><span class="p">.</span><span class="n">signal</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="nn">React</span><span class="p">.</span><span class="n">signal</span> <span class="o">=</span> <span class="o">&lt;</span><span class="k">fun</span><span class="o">&gt;</span></code></pre></figure>

<h5 id="some-other-examples">Some other examples</h5>

<ul>
  <li><a href="https://github.com/dbuenzli/react/blob/master/test/clock.ml">Clock.ml</a></li>
  <li><a href="https://github.com/dbuenzli/react/blob/master/test/breakout.ml">Breakout.ml</a></li>
  <li><a href="https://github.com/swwl1992/oreo">Oreo project</a> Ocaml Reactive programming used on Web authored by me</li>
</ul>

<p><a href="http://www.reactivemanifesto.org/">
<img style="border: 0; position: fixed; left: 0; top:0; z-index: 9000" src="http://www.reactivemanifesto.org/images/ribbons/we-are-reactive-black-left.png" />
</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
      
      
      
      

      
      
        <div class="post-nav" id="post-nav-id">
          <div class="post-nav-next post-nav-item">
            
              <a href="/life/2014/02/03/TwoYears.html" rel="next" title="It has been two years">
                <i class="fa fa-chevron-left"></i> It has been two years
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/programming/2013/12/27/Type-Systems.html" rel="prev" title="Differences between type systems of OCaml & Java">
                Differences between type systems of OCaml & Java <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      
      

      
    </footer>
  </article>

  <div class="post-spread">
    
  </div>
</div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          

  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        
        
        




      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/assets/images/avatar.gif"
               alt="Wan Wenli" />
          <p class="site-author-name" itemprop="name">Wan Wenli</p>
           
              <p class="site-description motion-element" itemprop="description">Keep talking</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          

        </nav>

        
        
        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              
              
              <span class="links-of-author-item">
                <a href="https://github.com/wanwenli" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              
              
              <span class="links-of-author-item">
                <a href="https://twitter.com/wenli_wan" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            





            
              <div class="post-toc-content">
    <ol class=nav>
      <li class="nav-item nav-level-5"> <a class="nav-link" href="#using-react-package"> <span class="nav-number">1</span> <span class="nav-text">Using React package</span> </a> <ol class="nav-child"> </li></ol> </li> <li class="nav-item nav-level-5"> <a class="nav-link" href="#module-reacte"> <span class="nav-number">2</span> <span class="nav-text">Module React.E</a</span> </a> <ol class="nav-child"> </li></ol> </li> <li class="nav-item nav-level-5"> <a class="nav-link" href="#module-reacts"> <span class="nav-number">3</span> <span class="nav-text">Module React.S</a</span> </a> <ol class="nav-child"> </li></ol> </li> <li class="nav-item nav-level-5"> <a class="nav-link" href="#some-other-examples"> <span class="nav-number">4</span> <span class="nav-text">Some other examples</span> </a> <ol class="nav-child">
    </ol>
  </div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>

        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wan Wenli</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://jekyllrb.com">Jekyll</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/simpleyyt/jekyll-theme-next">
    NexT.Mist
  </a>
</div>



        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>





















  
   
  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/jquery/index.js?v=2.1.3"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/assets/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/assets/js/src/motion.js?v=5.1.1"></script>



  
  

  <script type="text/javascript" src="/assets/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/assets/js/src/post-details.js?v=5.1.1"></script>


  


  <script type="text/javascript" src="/assets/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://wanwenli.disqus.com/count.js" async></script>
    

    
      
      <script type="text/javascript">
          var disqus_config = function () {
              this.page.url = 'https://wanwenli.com/programming/2014/01/28/React-Tutorial.html';
              this.page.identifier = '/programming/2014/01/28/React-Tutorial.html';
              this.page.title = 'Ocaml React package tutorial';
          };
          var d = document, s = d.createElement('script');
          s.src = 'https://wanwenli.disqus.com/embed.js';
          s.setAttribute('data-timestamp', '' + +new Date());
          (d.head || d.body).appendChild(s);
      </script>
      
    

  




	





  











  




  





  






  

  

  
  


  

  

  

</body>
</html>

